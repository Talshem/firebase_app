(this["webpackJsonpfirebase-hosting-demo"]=this["webpackJsonpfirebase-hosting-demo"]||[]).push([[0],{37:function(e,t,r){},38:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(2),c=r.n(a),s=r(26),i=r.n(s),o=(r(37),r(38),r(10)),u=r(14),l=r(7),j=r.n(l),b=r(25),d=r(15),h=r(19);r(40),r(42);h.a.initializeApp({apiKey:"AIzaSyBudOcDbB7ISPpGcwEDDFQqH_05qYPMDJA",authDomain:"tutorial-288a2.firebaseapp.com",databaseURL:"https://tutorial-288a2.firebaseio.com",projectId:"tutorial-288a2",storageBucket:"tutorial-288a2.appspot.com",messagingSenderId:"267092002837",appId:"1:267092002837:web:675cae1b8f82d74d67661c",measurementId:"G-9F41N0J89R"});var O=h.a.auth(),p=h.a.firestore(),x=new h.a.auth.GoogleAuthProvider,m=function(){O.signInWithPopup(x)},g=function(){var e=Object(d.a)(j.a.mark((function e(t,r){var n,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=p.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,c=t.displayName,s=t.photoURL,e.prev=8,e.next=11,n.set(Object(b.a)({displayName:c,email:a,photoURL:s},r));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",f(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,p.doc("users/".concat(t)).get();case 5:return r=e.sent,e.abrupt("return",Object(b.a)({uid:t},r.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],b=Object(a.useState)(null),d=Object(o.a)(b,2),h=d[0],p=d[1],x=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?c(n):"userPassword"===r&&j(n)};return Object(n.jsxs)("div",{className:"sign",children:[Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Sign In"})}),Object(n.jsxs)("div",{children:[null!==h&&Object(n.jsxs)("div",{className:"error",children:[h,Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("form",{children:[Object(n.jsx)("label",{tmlFor:"userEmail",children:"Email:"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"email",name:"userEmail",value:r,placeholder:"Your Email",id:"userEmail",onChange:function(e){return x(e)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"userPassword",children:"Password:"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"password",name:"userPassword",value:l,placeholder:"Your Password",id:"userPassword",onChange:function(e){return x(e)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"signNormal",onClick:function(e){return function(e,t,r){e.preventDefault(),O.signInWithEmailAndPassword(t,r).catch((function(e){p("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}(e,r,l)},children:"Sign in"})]}),Object(n.jsx)("center",{children:"or"}),Object(n.jsx)("button",{className:"signGoogle",onClick:function(){return m()},children:"Sign in with Google"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("center",{children:["Don't have an account?"," ",Object(n.jsx)(u.b,{to:"signUp",style:{textDecoration:"none",color:"rgb(90, 90, 211)"},children:"Sign up here"})," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{})," ",Object(n.jsx)(u.b,{to:"/passwordReset",style:{textDecoration:"none",color:"rgb(90, 90, 211)"},children:"Forgot Password?"})]})]})]})},w=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],b=i[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(null),w=Object(o.a)(v,2),y=w[0],E=w[1],S=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?c(n):"userPassword"===r?b(n):"displayName"===r&&f(n)},N=function(){var e=Object(d.a)(j.a.mark((function e(t,r,n){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.createUserWithEmailAndPassword(r,n);case 4:a=e.sent,s=a.user,g(s,{displayName:x}),c(""),b(""),f(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),E("Error Signing up with email and password");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"sign",children:[Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Sign Up"})}),Object(n.jsxs)("div",{children:[null!==y&&Object(n.jsxs)("div",{className:"error",children:[y,Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("form",{className:"",children:[Object(n.jsx)("label",{htmlFor:"displayName",children:"Display Name:"}),Object(n.jsx)("input",{type:"text",name:"displayName",value:x,placeholder:"E.g: Faruq",id:"displayName",onChange:function(e){return S(e)}}),Object(n.jsx)("label",{htmlFor:"userEmail",className:"block",children:"Email:"}),Object(n.jsx)("input",{type:"email",name:"userEmail",value:r,placeholder:"Your Email",id:"userEmail",onChange:function(e){return S(e)}}),Object(n.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"userPassword",value:l,placeholder:"Your Password",id:"userPassword",onChange:function(e){return S(e)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"signNormal",onClick:function(e){N(e,r,l)},children:"Sign up"})]}),Object(n.jsx)("center",{children:"or"}),Object(n.jsx)("button",{className:"signGoogle",onClick:function(){return m()},children:"Sign In with Google"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("center",{children:["Already have an account?"," ",Object(n.jsx)(u.b,{to:"/",children:"Sign in here"})]})]})]})},y=r(28),E=r(29),S=r(31),N=r(30),k=Object(a.createContext)({user:null}),P=function(e){Object(S.a)(r,e);var t=Object(N.a)(r);function r(){var e;Object(y.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:null},e.componentDidMount=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.onAuthStateChanged(function(){var t=Object(d.a)(j.a.mark((function t(r){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(r);case 2:n=t.sent,e.setState({user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e}return Object(E.a)(r,[{key:"render",value:function(){return Object(n.jsx)(k.Provider,{value:this.state.user,children:this.props.children})}}]),r}(a.Component),C=function(){var e=Object(a.useContext)(k),t=e.photoURL,r=e.displayName;e.email;return Object(n.jsxs)("div",{className:"sign",children:[Object(n.jsx)("div",{style:{background:"url(".concat(t||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png",")  no-repeat center center"),backgroundSize:"cover",height:"200px",width:"200px",marginTop:"20px",margin:"auto"}}),Object(n.jsx)("center",{children:Object(n.jsx)("h2",{children:r})}),Object(n.jsx)("button",{style:{width:"40%",marginLeft:"30%"},className:"signGoogle",onClick:function(){O.signOut()},children:"Sign out"})]})},D=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],b=Object(a.useState)(null),d=Object(o.a)(b,2),h=d[0],p=d[1];return Object(n.jsxs)("div",{className:"sign",children:[Object(n.jsx)("center",{children:Object(n.jsx)("h1",{children:"Reset your Password"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{action:"",children:[l&&Object(n.jsx)("div",{children:"An email has been sent to you!"}),null!==h&&Object(n.jsx)("div",{children:h}),Object(n.jsx)("label",{htmlFor:"userEmail",children:"Email:"}),Object(n.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:r,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r&&c(n)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){return e.preventDefault(),void O.sendPasswordResetEmail(r).then((function(){j(!0),setTimeout((function(){j(!1)}),3e3)})).catch((function(){p("Error resetting password")}));var e},className:"signNormal",children:"Send me a reset link"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("center",{children:Object(n.jsx)(u.b,{to:"/",children:"\u2190 back to sign in page"})})]})]})},F=r(5),I=function(){var e=Object(a.useContext)(k);return Object(n.jsx)("div",{children:e?Object(n.jsx)(C,{}):Object(n.jsxs)(F.c,{children:[Object(n.jsx)(F.a,{path:"/signUp",children:Object(n.jsx)(w,{})}),Object(n.jsx)(F.a,{path:"/passwordReset",children:Object(n.jsx)(D,{})}),Object(n.jsx)(F.a,{path:"/",children:Object(n.jsx)(v,{})})]})})},A=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,53)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(P,{children:Object(n.jsx)(I,{})})})}),document.getElementById("root")),A()}},[[52,1,2]]]);
//# sourceMappingURL=main.a839c8b0.chunk.js.map